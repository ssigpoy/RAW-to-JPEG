# RAW to JPEG 转换器 (专业ICM校色版)

现代化RAW转JPEG转换工具，支持批量转换和专业级相机校色。

## 功能特点

- 🎨 现代化浅色界面设计
- ⚡ 高性能批量转换
- 📁 支持11种RAW格式
- 📊 实时进度显示
- 🛡️ 完善错误处理
- 🎯 **专业ICM相机校色** - 使用原厂ICC配置文件，实现精确色彩还原
- 📷 **智能相机识别** - 自动检测RAW文件的相机品牌和型号
- 🎛️ **手动校色控制** - 支持手动选择相机品牌、型号和校色场景

## 支持格式

Sony (.arw) | Canon (.cr2, .cr3) | Nikon (.nef)
Adobe DNG (.dng) | Olympus (.orf) | Panasonic (.rw2)
Pentax (.pef) | Samsung (.srw) | Leica (.mos) | 通用RAW (.raw)

## 构建方法

### 安装依赖
```bash
pip install customtkinter rawpy imageio Pillow psutil PyInstaller
```

### 构建EXE
```bash
python build.py
```

## 使用方法

### 基本转换
1. 双击 `dist/RAW_to_JPEG_Converter.exe` 启动程序
2. 选择包含RAW文件的输入文件夹
3. 选择输出文件夹
4. 调整JPEG质量（推荐95）
5. 点击"开始转换"

### ICM校色设置（全新界面）
1. **自动校色模式（推荐）**：
   - ✅ 启用"启用相机校色"
   - ✅ 启用"自动检测相机型号"
   - 程序将自动识别相机并应用最佳校色配置

2. **手动选择模式**：
   - ✅ 启用"启用相机校色"
   - ❌ 禁用"自动检测相机型号"
   - 从品牌/型号下拉菜单选择（支持滚动）
   - 选择校色场景（Generic、Portrait等）

3. **搜索筛选功能（🆕 新增）**：
   - ✅ 勾选"启用搜索筛选"激活搜索面板
   - 🔍 **品牌搜索**：输入品牌名称实时筛选（如输入"Canon"）
   - 🔍 **型号搜索**：输入型号名称实时筛选（如输入"EOS"）
   - 📊 **实时更新**：输入时自动更新下拉菜单内容
   - 🖱️ **滚动支持**：下拉菜单支持滚轮查看所有选项

### 🎨 新界面特色
- **可滚动区域**：ICM设置区域高度限制，支持滚轮操作
- **智能搜索**：支持实时搜索和筛选，提高查找效率
- **优化布局**：品牌搜索、型号搜索、选择区域合理分组
- **友好提示**：显示筛选结果统计信息
- **性能优化**：搜索功能默认关闭，按需启用避免性能影响

### 支持的相机品牌
- **Canon** (111个型号) - EOS系列全支持
- **Nikon** (89个型号) - Z系列、D系列全支持
- **Sony** (多个型号) - α系列全支持
- **Fujifilm** - X系列、GFX系列
- **Apple** - iPhone系列
- 以及Olympus、Panasonic、Leica、Pentax、Samsung等

### 校色场景选项
- **Generic** - 通用场景（默认）
- **Portrait** - 人像优化
- **Landscape** - 风景优化
- **Vivid** - 鲜艳色彩
- **ProStandard** - 专业标准
- **Monochrome** - 黑白优化
- 等多种专业场景

## 系统要求

- Windows 10/11 (64位)
- 至少2GB内存
- 推荐内存：4GB以上以获得最佳性能

## 文件说明

### 核心源码
- `modern_converter.py` - 现代化GUI主程序
- `enhanced_converter.py` - 高性能转换引擎
- `camera_detector.py` - 相机型号识别系统
- `icm_manager.py` - ICM校色文件管理器
- `build.py` - 构建脚本

### 资源文件
- `DSLR/` - ICM校色文件目录（892个文件）
- `raw_to_jpeg.py` - 原始转换逻辑（保留）

### 文档
- `README.md` - 项目说明
- `使用说明.md` - 本文件
- `项目总结.md` - 项目总结

### 发布版本
- `dist/RAW_to_JPEG_Converter.exe` - 独立可执行文件（240MB）